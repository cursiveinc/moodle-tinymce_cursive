define("tiny_cursive/append_participants_table",["jquery","core/config","core/str"],(function($,mdlcfg,Str){var usersTable={init:async function(page){await usersTable.appendTable(page)},appendTable:async function(){$(document).ready((async function($){let h_tr=$("thead").find("tr").get()[0],classes=$("body").attr("class").split(" "),courseid=parseInt(classes.find((classname=>classname.startsWith("course-"))).split("-")[1]),statsString=await Str.get_string("stats","tiny_cursive");$(h_tr).find("#stats").length||$(h_tr).find("th").eq(6).after('<th class="header c7" id="stats">'+statsString+"</th>"),$("tbody").find("tr").get().forEach((function(tr){var _$$find$get$,_userid;let td_user=$(tr).find("td").get()[0],userid=null===(_$$find$get$=$(td_user).find("input").get()[0])||void 0===_$$find$get$?void 0:_$$find$get$.id;if(userid=null===(_userid=userid)||void 0===_userid?void 0:_userid.slice(4),userid&&!$(tr).find("td").eq(6).find("i").length){let color="font-size:24px;color:black;text-decoration:none",thunder_icon='<td><a href="'+(mdlcfg.wwwroot+"/lib/editor/tiny/plugins/cursive/writing_report.php?userid="+userid+"&courseid="+courseid)+'" data-id='+userid+'><i class="'+"fa fa-area-chart"+'" aria-hidden="true" style="'+color+'"></i></a></td>';$(tr).find("td").eq(5).after(thunder_icon)}})),$(".page-item, .header").on("click",(function(){setTimeout((()=>{$("#stats").length||usersTable.init()}),1800)}))}))}};return usersTable}));

//# sourceMappingURL=append_participants_table.min.js.map